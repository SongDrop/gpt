2025-07-17 09:50:37,128 - config - INFO - Starting configutation initialization...
2025-07-17 09:50:37,128 - config - INFO - .env file found at: /Users/gabrielmajorsky/Documents/dev-json/unrealstudio3/__________win10dev.xyz/gpt/gpt/backend/.env
2025-07-17 09:50:37,128 - config - INFO - Working directory: /Users/gabrielmajorsky/Documents/dev-json/unrealstudio3/__________win10dev.xyz/gpt/gpt/backend
2025-07-17 09:50:37,129 - config - INFO - .env path resolved: /Users/gabrielmajorsky/Documents/dev-json/unrealstudio3/__________win10dev.xyz/gpt/gpt/backend/.env
2025-07-17 09:50:37,129 - config - INFO - .env exists: True
2025-07-17 09:50:37,135 - config - INFO - Loading settings...
2025-07-17 09:50:37,143 - config - INFO - Loaded configuration:
2025-07-17 09:50:37,143 - config - INFO - App Name: AI Chat Assistant
2025-07-17 09:50:37,143 - config - INFO - Environment: production
2025-07-17 09:50:37,143 - config - INFO - CORS Origins: ['https://localhost:8000', 'https://localhost:3000', 'http://localhost:8000', 'http://localhost:3000']
2025-07-17 09:50:37,143 - config - INFO - Vector Search Enabled: True
2025-07-17 09:50:37,143 - config - INFO - Vector Search Endpoint: https://ragaisearchrtx.search.windows.net/
2025-07-17 09:50:37,143 - config - INFO - Vector Search Key: ***LRZH
2025-07-17 09:50:37,143 - config - INFO - Vector Search Index: rag-1752519055977
2025-07-17 09:50:37,143 - config - INFO - Vector Search Embedding Deployment: text-embedding-ada-002
2025-07-17 09:50:37,143 - config - INFO - Vector Search Embedding Key: ***Hc9F
2025-07-17 09:50:37,144 - config - INFO - Vector search is enabled
2025-07-17 09:50:37,144 - config - INFO - Final vector search configuration check:
2025-07-17 09:50:37,144 - config - INFO - Vector Search Enabled: True
2025-07-17 09:50:37,144 - config - INFO - Vector Search Endpoint: https://ragaisearchrtx.search.windows.net/
2025-07-17 09:50:37,144 - config - INFO - Vector Search Key: ***LRZH
2025-07-17 09:50:37,144 - config - INFO - Vector Search Index: rag-1752519055977
2025-07-17 09:50:37,868 - main - INFO - Starting application initialization...
2025-07-17 09:50:37,899 - main - INFO - Configured CORS origins: ['https://localhost:8000', 'https://localhost:3000', 'http://localhost:8000', 'http://localhost:3000']
INFO:     Started server process [2742]
INFO:     Waiting for application startup.
2025-07-17 09:50:37,910 - main - INFO - Validating OpenAI configuration...
2025-07-17 09:50:37,910 - main - INFO - API Base: https://gabz-mb97c15u-swedencentral.cognitiveservices.azure.com/openai/deployments/gpt-4.1-mini/chat/completions?api-version=2025-01-01-preview
2025-07-17 09:50:37,910 - main - INFO - API Version: 2025-01-01-preview
2025-07-17 09:50:37,910 - main - INFO - Deployment Name: gpt-4.1-mini
2025-07-17 09:50:38,837 - httpx - INFO - HTTP Request: POST https://gabz-mb97c15u-swedencentral.cognitiveservices.azure.com/openai/deployments/gpt-4.1-mini/chat/completions?api-version=2024-05-01-preview "HTTP/1.1 200 OK"
2025-07-17 09:50:38,858 - main - INFO - OpenAI configuration validated successfully
INFO:     Application startup complete.
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2025-07-17 09:50:47,827 - main - INFO - WebSocket connection attempt from 127.0.0.1:49863
INFO:     ('127.0.0.1', 49863) - "WebSocket /ws" [accepted]
2025-07-17 09:50:47,828 - main - INFO - Client 127.0.0.1:49863 connected. Active connections: 1
INFO:     connection open
INFO:     127.0.0.1:49862 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49864 - "GET /health HTTP/1.1" 200 OK
2025-07-17 09:50:51,436 - main - INFO - Received WebSocket message
2025-07-17 09:50:52,200 - httpx - INFO - HTTP Request: POST https://gabz-mb97c15u-swedencentral.cognitiveservices.azure.com/openai/deployments/gpt-4.1-mini/chat/completions?api-version=2024-05-01-preview "HTTP/1.1 200 OK"
2025-07-17 09:50:52,452 - main - INFO - Client 127.0.0.1:49863 disconnected. Active connections: 0
2025-07-17 09:50:52,452 - main - INFO - Connection cleaned up for 127.0.0.1:49863
2025-07-17 09:50:52,453 - main - ERROR - Unexpected error for 127.0.0.1:49863: WebSocket is not connected. Need to call "accept" first.
2025-07-17 09:50:52,453 - main - INFO - Client 127.0.0.1:49863 disconnected. Active connections: 0
2025-07-17 09:50:52,453 - main - INFO - Connection cleaned up for 127.0.0.1:49863
2025-07-17 09:50:52,453 - main - INFO - Client 127.0.0.1:49863 disconnected. Active connections: 0
INFO:     connection closed
2025-07-17 09:50:52,458 - main - INFO - WebSocket connection attempt from 127.0.0.1:49867
INFO:     ('127.0.0.1', 49867) - "WebSocket /ws" [accepted]
2025-07-17 09:50:52,458 - main - INFO - Client 127.0.0.1:49867 connected. Active connections: 1
INFO:     connection open
2025-07-17 09:50:52,504 - main - INFO - WebSocket disconnected: 127.0.0.1:49867
2025-07-17 09:50:52,504 - main - INFO - Client 127.0.0.1:49867 disconnected. Active connections: 0
2025-07-17 09:50:52,504 - main - INFO - Connection cleaned up for 127.0.0.1:49867
2025-07-17 09:50:52,504 - main - INFO - Client 127.0.0.1:49867 disconnected. Active connections: 0
INFO:     connection closed
INFO:     127.0.0.1:49870 - "OPTIONS /chat HTTP/1.1" 200 OK
2025-07-17 09:51:49,174 - main - INFO - Received chat request
2025-07-17 09:51:49,174 - main - INFO - Not using vector search for this chat request
2025-07-17 09:51:59,573 - httpx - INFO - HTTP Request: POST https://gabz-mb97c15u-swedencentral.cognitiveservices.azure.com/openai/deployments/gpt-4.1-mini/chat/completions?api-version=2024-05-01-preview "HTTP/1.1 200 OK"
2025-07-17 09:51:59,575 - main - INFO - Successfully processed chat request
INFO:     127.0.0.1:49870 - "POST /chat HTTP/1.1" 200 OK
INFO:     127.0.0.1:49908 - "OPTIONS /chat HTTP/1.1" 200 OK
2025-07-17 09:53:02,293 - main - INFO - Received chat request
2025-07-17 09:53:02,294 - main - INFO - Not using vector search for this chat request
2025-07-17 09:53:05,335 - httpx - INFO - HTTP Request: POST https://gabz-mb97c15u-swedencentral.cognitiveservices.azure.com/openai/deployments/gpt-4.1-mini/chat/completions?api-version=2024-05-01-preview "HTTP/1.1 200 OK"
2025-07-17 09:53:05,336 - main - INFO - Successfully processed chat request
INFO:     127.0.0.1:49908 - "POST /chat HTTP/1.1" 200 OK
INFO:     127.0.0.1:49910 - "OPTIONS /chat HTTP/1.1" 200 OK
2025-07-17 09:53:21,503 - main - INFO - Received chat request
2025-07-17 09:53:21,503 - main - INFO - Not using vector search for this chat request
2025-07-17 09:53:24,975 - httpx - INFO - HTTP Request: POST https://gabz-mb97c15u-swedencentral.cognitiveservices.azure.com/openai/deployments/gpt-4.1-mini/chat/completions?api-version=2024-05-01-preview "HTTP/1.1 200 OK"
2025-07-17 09:53:24,976 - main - INFO - Successfully processed chat request
INFO:     127.0.0.1:49910 - "POST /chat HTTP/1.1" 200 OK
INFO:     127.0.0.1:49912 - "OPTIONS /chat HTTP/1.1" 200 OK
2025-07-17 09:53:47,817 - main - INFO - Received chat request
2025-07-17 09:53:47,818 - main - INFO - Not using vector search for this chat request
2025-07-17 09:53:52,718 - httpx - INFO - HTTP Request: POST https://gabz-mb97c15u-swedencentral.cognitiveservices.azure.com/openai/deployments/gpt-4.1-mini/chat/completions?api-version=2024-05-01-preview "HTTP/1.1 200 OK"
2025-07-17 09:53:52,719 - main - INFO - Successfully processed chat request
INFO:     127.0.0.1:49912 - "POST /chat HTTP/1.1" 200 OK
INFO:     127.0.0.1:49923 - "OPTIONS /chat HTTP/1.1" 200 OK
2025-07-17 09:56:33,124 - main - INFO - Received chat request
2025-07-17 09:56:33,124 - main - INFO - Not using vector search for this chat request
2025-07-17 09:56:38,777 - httpx - INFO - HTTP Request: POST https://gabz-mb97c15u-swedencentral.cognitiveservices.azure.com/openai/deployments/gpt-4.1-mini/chat/completions?api-version=2024-05-01-preview "HTTP/1.1 200 OK"
2025-07-17 09:56:38,779 - main - INFO - Successfully processed chat request
INFO:     127.0.0.1:49923 - "POST /chat HTTP/1.1" 200 OK
INFO:     127.0.0.1:49926 - "OPTIONS /chat HTTP/1.1" 200 OK
2025-07-17 09:57:24,457 - main - INFO - Received chat request
2025-07-17 09:57:24,457 - main - INFO - Not using vector search for this chat request
2025-07-17 09:57:31,554 - httpx - INFO - HTTP Request: POST https://gabz-mb97c15u-swedencentral.cognitiveservices.azure.com/openai/deployments/gpt-4.1-mini/chat/completions?api-version=2024-05-01-preview "HTTP/1.1 200 OK"
2025-07-17 09:57:31,555 - main - INFO - Successfully processed chat request
INFO:     127.0.0.1:49926 - "POST /chat HTTP/1.1" 200 OK
INFO:     127.0.0.1:49931 - "OPTIONS /chat HTTP/1.1" 200 OK
2025-07-17 09:59:22,127 - main - INFO - Received chat request
2025-07-17 09:59:22,128 - main - INFO - Not using vector search for this chat request
2025-07-17 09:59:25,525 - httpx - INFO - HTTP Request: POST https://gabz-mb97c15u-swedencentral.cognitiveservices.azure.com/openai/deployments/gpt-4.1-mini/chat/completions?api-version=2024-05-01-preview "HTTP/1.1 200 OK"
2025-07-17 09:59:25,526 - main - INFO - Successfully processed chat request
INFO:     127.0.0.1:49931 - "POST /chat HTTP/1.1" 200 OK
